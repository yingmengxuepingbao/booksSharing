<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>店铺管理</title>
		<script type="text/javascript" src="../../js/jquery-1.12.3.min.js"></script>
		
		<style type="text/css">
		#test-image-preview {
		　　border: 1px solid #ccc;
		   width: 100%;
		   height: 200px;
		   background-size: contain;
		   background-repeat: no-repeat;
		   background-position: center center;
		}
		</style>
		
	</head>
	<body>
		<h2>店铺添加</h2>
		<div class="">
		   <div>店铺名称：</div>
		   <div>
		   		<input type="text" id="shopName">
		   </div>
		   <div>地址：</div>
		   <div>
		   		<input type="text" id="shopAddress">
		   </div>
		   <div>联系方式：</div>
		   <div>
		   		<input type="text" id="shopPhone">
		   </div>
		   <div>状态：</div>
		   <div>
		   		<input type="radio" value="0" name="shopState" checked="checked"> 解封
		   		<input type="radio" value="1" name="shopState"> 封号
		   </div>
		   <div>是否签约：</div>
		   <div>
		   		<input type="radio" value="0" name="shopSigning" checked="checked"> 是
		   		<input type="radio" value="1" name="shopSigning"> 否
		   </div>
		   <!-- <div>结算账户</div>
		   <div>
		   		<input type="text"  name="bankCode"> 
		   </div> -->
		   <div>logo：</div>
		   <div>
		   		<img alt="" src="" id="shopLogo">
		   </div>
		   <div>认证方式：</div>
		   <div>
		   		<input type="radio" value="0" name="authenticationMethod" checked="checked"> 个人认证
		   		<input type="radio" value="1" name="authenticationMethod"> 企业认证
		   </div>
		   
		   <!-- 隐藏区域 -->
		   <div>
		   		<div>身份证人像面：</div>
			   <div>
			   		<img alt="" src="" id="picZheng">
			   		<div id="float">
						<input type="file" class="file" id="" accept="image/png,image/jpeg,image/gif" onchange="compress()"/>
						<input type="hidden" id="count" value='0'>
					</div>
			<img src='../../img/share/add.png' id='voucher'>
			<div id="imgCount">
			
			</div>
			<em id="picZhengNull">请上传身份证人像面</em>
			   </div>
			   <div>身份证国徽面：</div>
			   <div>
			   		<img alt="" src="" id="picFan">
			   </div>
			   <div>手持身份证照：</div>
			   <div>
			   		<img alt="" src="" id="picRen">
			   </div>
			   <div>姓名：</div>
			   <div>
			   		<input type="text" id="userName" readonly>
			   </div>
			   <div>身份证号：</div>
			   <div>
			   		<input type="text" id="userNumber" readonly>
			   </div>
		   </div>
		    <div>
		   		<div>营业执照：</div>
			   <div>
			    	<p>图片预览：</p>
　　					<div id="test-image-preview"></div>
			   		<img alt="" src="" id="businessLicense">
			   		<input type="file" id="test-image-file" name="test" accept="image/gif, image/jpeg, image/png, image/jpg">
			   		<p id="test-file-info"></p>
			   </div>
			   <div>统一社会信用代码：</div>
			   <div>
			   		<input type="text" id="xinyongCode" readonly>
			   </div>
			   <div>法人代表名称：</div>
			   <div>
			   		<input type="text" id="legalName" readonly>
			   </div>
			</div>  
		</div>
		
		<script type="text/javascript">
		　var fileInput = document.getElementById('test-image-file'),
		     info = document.getElementById('test-file-info'),
		     preview = document.getElementById('test-image-preview');
	       // 监听change事件:
	       fileInput.addEventListener('change', function() {
	       　　		// 清除背景图片:
	           preview.style.backgroundImage = '';
	           // 检查文件是否选择:
	          if(!fileInput.value) {
	               info.innerHTML = '没有选择文件';
	                   return;
	          }                    
	          // 获取File引用:
	          var file = fileInput.files[0];
	          //判断文件大小
	          var size = file.size;
	          if(size >= 1*1024*1024){
	                alert('文件大于1兆不行!');
	                return false;
	          }
	          // 获取File信息:
	          info.innerHTML = '文件: ' + file.name + '<br>' +
	                           '大小: ' + file.size + '<br>' +
	                           '修改: ' + file.lastModifiedDate;
	          if(file.type !== 'image/jpeg' && file.type !== 'image/png' && file.type !== 'image/gif') {
	              alert('不是有效的图片文件!');
	              return;
	          }    
	          // 读取文件:
	          var reader = new FileReader();
	             reader.onload = function(e) {
		                　　 var data = e.target.result; // 'data:image/jpeg;base64,/9j/4AAQSk...(base64编码)...}'            
		                     　preview.style.backgroundImage = 'url(' + data + ')';
	              };
	              // 以DataURL的形式读取文件:
	              reader.readAsDataURL(file);
	              console.log(file);
	         });
		</script>
	</body>
</html>